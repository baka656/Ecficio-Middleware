{"version":3,"sources":["./src/app/offline-registration/offline-registration.page.html","./src/app/offline-registration/offline-registration-routing.module.ts","./src/app/offline-registration/offline-registration.module.ts","./src/app/offline-registration/offline-registration.page.scss","./src/app/offline-registration/offline-registration.page.ts"],"names":[],"mappings":"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","file":"offline-registration-offline-registration-module-es2015.js","sourcesContent":["export default \"<ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>Offline Registration</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-item *ngIf=\\\"!bo\\\" onic cordo>\\n    <ion-label position=\\\"floating\\\" >Security code</ion-label>\\n    <ion-input type=\\\"password\\\" #pass></ion-input>\\n    <ion-button (click)=\\\"authenticate(pass)\\\"> Authenticate </ion-button>\\n  </ion-item>\\n\\n  <form *ngIf=\\\"bo\\\" [formGroup]=\\\"registrationForm\\\" (ngSubmit)=\\\"createCode()\\\">\\n    <ion-list>\\n      <ion-item>\\n        <ion-label position=\\\"stacked\\\">Name</ion-label>\\n        <ion-input formControlName=\\\"name\\\" type=\\\"text\\\" class=\\\"form-control\\\" [ngClass]=\\\"{ 'is-invalid': submitted && f.name.errors }\\\"></ion-input>\\n        <ion-item *ngIf=\\\"submitted && f.name.errors\\\" class=\\\"invalid-feedback\\\">\\n          <p *ngIf=\\\"f.name.errors.required\\\">Name is required</p>\\n        </ion-item>\\n      </ion-item>\\n      <ion-item >\\n        <ion-label position=\\\"stacked\\\">College</ion-label>\\n        <ion-input type=\\\"text\\\" formControlName=\\\"college\\\" class=\\\"form-control\\\" type=\\\"text\\\" [ngClass]=\\\"{ 'is-invalid': submitted && f.college.errors }\\\"></ion-input>\\n        <ion-item *ngIf=\\\"submitted && f.college.errors\\\" class=\\\"invalid-feedback\\\">\\n          <p *ngIf=\\\"f.college.errors.required\\\">College is required</p>\\n        </ion-item>\\n      </ion-item> \\n      <ion-item >\\n        <ion-label position=\\\"stacked\\\">Phone</ion-label>\\n        <ion-input formControlName=\\\"phone\\\" type=\\\"number\\\" class=\\\"form-control\\\" [ngClass]=\\\"{ 'is-invalid': submitted && f.phone.errors }\\\"></ion-input>\\n        <ion-item *ngIf=\\\"submitted && f.phone.errors\\\" class=\\\"invalid-feedback\\\">\\n          <p *ngIf=\\\"f.phone.errors.required\\\">Phone is required</p>\\n          <p *ngIf=\\\"f.phone.errors.minLength\\\">phone number should have 10digits</p>\\n          <p *ngIf=\\\"f.phone.errors.maxLength\\\">phone number should have 10digits</p>\\n        </ion-item>\\n      </ion-item> \\n      <ion-item >\\n        <ion-label position=\\\"stacked\\\">Roll no</ion-label>\\n        <ion-input formControlName=\\\"rollno\\\" type=\\\"text\\\" class=\\\"form-control\\\"  [ngClass]=\\\"{ 'is-invalid': submitted && f.rollno.errors }\\\"></ion-input>\\n        <ion-item *ngIf=\\\"submitted && f.rollno.errors\\\" class=\\\"invalid-feedback\\\">\\n          <p *ngIf=\\\"f.rollno.errors.required\\\">Roll No is required</p>\\n        </ion-item>       \\n      </ion-item>\\n      <ion-item>\\n        <ion-label position=\\\"stacked\\\">Email</ion-label>\\n        <ion-input type=\\\"text\\\" formControlName=\\\"email\\\" class=\\\"form-control\\\"  [ngClass]=\\\"{ 'is-invalid': submitted && f.email.errors }\\\"></ion-input>\\n        <ion-item *ngIf=\\\"submitted && f.email.errors\\\" class=\\\"invalid-feedback\\\">\\n            <p *ngIf=\\\"f.email.errors.required\\\">Email Id is required</p>\\n            <p *ngIf=\\\"f.email.errors.pattern\\\">Please provide a valid email-id</p>\\n        </ion-item>\\n      </ion-item>     \\n      <ion-item>\\n        <button type=submit size=\\\"small\\\" class=\\\"btn btn-primary waves-effect waves-dark\\\">Register<ion-icon slot=\\\"end\\\" name=\\\"create\\\"></ion-icon></button>\\n        <button size=\\\"small\\\" class=\\\"btn btn-primary waves-effect waves-dark\\\" (click)=\\\"logout()\\\">Logout</button>\\n      </ion-item>\\n    </ion-list>   \\n  </form>\\n\\n  <ion-list inset=\\\"true\\\" *ngIf=\\\"bo\\\">\\n    <ion-text> <h4> Registered Users : {{ dbUsers.length }} </h4> </ion-text>\\n    <ion-item *ngFor=\\\"let i of dbUsers\\\" >\\n      <ion-avatar slot=\\\"start\\\" style=\\\"width: 20%;\\\">\\n        <p>{{ i.receipt }}<p>\\n      </ion-avatar>\\n      <ion-label style=\\\"font-size: medium;\\\">\\n        <ion-row>\\n          <p>name : {{ i.name }}</p>\\n        </ion-row>\\n        <ion-row >\\n          <p>mobile-no : {{ i.phone }} </p>\\n        </ion-row>\\n        <ion-row>\\n          <p>email : {{ i.email }}</p> \\n        </ion-row>\\n      </ion-label>\\n    </ion-item>\\n  </ion-list>\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { OfflineRegistrationPage } from './offline-registration.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: OfflineRegistrationPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class OfflineRegistrationPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { OfflineRegistrationPageRoutingModule } from './offline-registration-routing.module';\n\nimport { OfflineRegistrationPage } from './offline-registration.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    OfflineRegistrationPageRoutingModule,\n    ReactiveFormsModule\n  ],\n  declarations: [OfflineRegistrationPage]\n})\nexport class OfflineRegistrationPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL29mZmxpbmUtcmVnaXN0cmF0aW9uL29mZmxpbmUtcmVnaXN0cmF0aW9uLnBhZ2Uuc2NzcyJ9 */\";","import { Component, OnInit } from '@angular/core';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { IttopService } from '../ittop.service';\nimport { AlertController } from '@ionic/angular';\nimport { Router } from '@angular/router';\nimport { User } from 'models/user';\nimport { LoadingController, ToastController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-offline-registration',\n  templateUrl: './offline-registration.page.html',\n  styleUrls: ['./offline-registration.page.scss'],\n})\nexport class OfflineRegistrationPage implements OnInit {\n\n  bo:boolean=false;\n  registrationForm:FormGroup;\n  submitted = false;\n  userDetails:User={} as User;\n  dbUsers:User[]=[];\n  constructor(private us:IttopService,private alrt:AlertController,private fb:FormBuilder,private router:Router,\n    private lc:LoadingController,private toastCtrl:ToastController) { }\n\n  ngOnInit() {\n    this.us.getString('regSession').then((res)=>{\n      if(res==undefined){\n        this.bo=false;\n      }\n      else if(res['value']=='true'){\n        this.bo=true;\n      }\n    });\n    this.us.getUsers().subscribe(data=>{\n      if(data['message']=='success'){\n        this.dbUsers=data['data'];\n      }\n      else\n        console.log(data);\n    });\n    this.registrationForm = this.fb.group({\n      email:    ['', Validators.compose([\n        Validators.required,\n        Validators.pattern('^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$')\n      ])],\n      name: ['',Validators.required],\n      rollno: ['', Validators.required],\n      college: ['', Validators.required],\n      phone: ['', [Validators.required, Validators.minLength(10),Validators.maxLength(10)]],\n    });\n  }\n\n  get f() { \n    return this.registrationForm.controls; \n  }  \n\n  authenticate(pass){\n    this.lc.create({message:\"please wait\"}).then( (loading)=>{\n      loading.present();\n      setTimeout(()=>{\n        this.us.getPass({name:\"registrationpass\"}).subscribe(data=>{\n          if(data['message']=='success'){\n            console.log(data,pass.value);\n            if(data['data']==pass.value){\n              this.bo=true;\n              this.us.setString('regSession','true');\n            }\n            else{\n              alert('Invalid credentials / Check your Internet connection');\n            }\n          }\n          else{\n            alert(\"some error occured. Please try again\");\n          }\n        });\n      loading.dismiss();\n      },1000);\n    });\n  }\n\n  logout(){\n    this.bo=false;\n    this.us.removeItem('regSession');\n  }\n  createCode(){\n    this.submitted = true;\n    if (this.registrationForm.invalid) {\n        return;\n    }\n    this.us.validEmail({email:this.registrationForm.value.email}).subscribe(data=>{\n      console.log(data);\n      if(data==true){\n        this.userDetails.name=this.registrationForm.value.name;\n        this.userDetails.email=this.registrationForm.value.email;\n        this.userDetails.phone=this.registrationForm.value.phone;\n        this.userDetails.college=this.registrationForm.value.college;\n        this.userDetails.rollno=this.registrationForm.value.rollno;\n        this.userDetails.timestamp=new Date();\n        console.log(this.userDetails);\n        this.us.addUser(this.userDetails).subscribe((baka)=>{\n          if(baka['message']=='already exists'){\n            alert(\"email already registered\");\n          }\n          else if(baka['message']=='success'){\n            alert(\"receipt:\"+baka['receipt']);\n            this.router.navigate(['online-registration/',baka['receipt']]);\n          }\n          else{\n            alert(\"some error occured.please try again\");\n          }\n        });\n      }\n      else{\n        alert('enter valid email address');\n      }\n    });\n  }  \n}\n"],"sourceRoot":"webpack:///"}